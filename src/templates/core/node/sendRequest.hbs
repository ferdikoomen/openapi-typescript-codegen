async function sendRequest(options: ApiRequestOptions, url: string): Promise<Response> {
    const request: RequestInit = {
        method: options.method,
        headers: await getHeaders(options),
        body: getRequestBody(options),
    };
    const promises = [fetch(url, request)];
    if (typeof OpenAPI.TIMEOUT === 'number' && OpenAPI.TIMEOUT > 0) {
      promises.push(
          new Promise(
              (_, reject) => 
                  setTimeout(
                      () => reject(new TimeoutError(url)),
                      OpenAPI.TIMEOUT,
                  ),
          ),
      );
    }
    return Promise.race(promises);
}
